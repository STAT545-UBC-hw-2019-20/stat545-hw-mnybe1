---
title: "hw04: Tidy data and joins"
output: html_document
---

```{r}
library(gapminder)
library(tidyverse)
```


# Ex1. Univariate data reshaping
## Option 1 - Exploring life expectancy for Australia and Japan
### A tibble
#### 1. Make a tibble with one row per year, and columns for life expectancy for two or more countries.
<!-- Need to select and filter before widening the dataframe --> 
```{r}
(Ex1<- gapminder %>% 
  select(country, lifeExp, year) %>%
  filter(country == "Australia" | country == "Japan") %>%
  pivot_wider(id_cols = year,
              names_from = country,
              values_from = lifeExp))

```


### A scatter plot of the life expectancy of Japan against Australia
```{r}
ggplot(Ex1, aes(Australia, Japan))+
  geom_point()+
  ggtitle("Life expectancy for Japan and Australia")+
  theme_bw()
```
#### Figure 1. Life expectancy of Japan against Australia. 


### Re-lengthen the data
```{r}
Ex1 %>%
  pivot_longer(cols = c(Australia, Japan),
               names_to = "country",
               values_to = "lifeExp")
```


# Ex2. Multivariate data re-shaping
## Option 1
### A tibble
```{r}
(Ex2<- gapminder %>% 
  select(country, lifeExp, year, gdpPercap) %>%
   filter(country == "Australia" | country == "Japan")) %>%
  pivot_wider(id_cols = year,
              names_from = c(country),
              names_sep = "_",
              values_from = c("lifeExp", "gdpPercap"))
```


### Re-lengthen the data


# Ex3. Table joins

